/* MIT License. Minified and modified version some of scripts from http://booounce.cmiscm.com/ */
window.requestTimeout=function(a,d){function h(r){n||(n=r);r-n>=d?a.call():g.value=window.requestAnimationFrame(h)}var n=null,g={};g.value=window.requestAnimationFrame(h);return g};window.clearRequestTimeout=function(a){window.cancelAnimationFrame?window.cancelAnimationFrame(a.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(a.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(a.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(a.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(a.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(a.value):clearTimeout(a)};(function(){function a(a){this.domStyle=this.randomText=this.dom=this.time=null;this.canvas=document.createElement("canvas");this.canvas.className="ny-typo";this.ctx=null;this.nyText=document.createElement("span");this.nyText.className="ny-text";this.fontColor={color:a||"#000000",text:null,str:null};this.colorArr="F44336 E91E63 9C27B0 673AB7 3F51B5 2196F3 03A9F4 00BCD4 009688 4CAF50 8BC34A CDDC39 FFEB3B FFC107 FF9800 FF5722 795548 607D8B".split(" ")}a.prototype.start=function(a){this.clear();var m=a.step||12,k=a.fps||38,p=a.onComplete,h=a.keepLength||0,n=a.randomText||"?!*&%$#abcdefghijklmnopqrstuvwxyz",g=a.text||"",r=a.clickEvent,s,z=[],w=this,k=1E3/k;this.isColor=a.isColor||0;this.isEllipsis=a.isEllipsis||0;this.yGap=a.yGap||0;this.dom=a.dom;this.nyText.innerHTML=g;this.dom.appendChild(this.nyText);this.dom.appendChild(this.canvas);if(r)this.nyText.addEventListener("click",function(a){r()});this.setting();this.randomText=n;"uppercase"==this.textTransform?g=g.toUpperCase():"lowercase"==this.textTransform&&(g=g.toLowerCase());s=g.split("");this.total=s.length;this.fontColor.str=s;this.fontColor.text=g;for(a=0;a<this.total;a++)z.push(a);(function v(a){var b,d=z.length,g=s.slice(0);if(a>d)p&&p();else{for(b=Math.max(a,0);b<d;b++)g[z[b]]=b<a+m?w.character():h?w.character():"";w.draw(g,d);w.time=window.requestTimeout(function(){v(a+1)},k)}})(-m)};a.prototype.setting=function(){if(this.dom){this.domStyle=window.getComputedStyle(this.dom);var a=this.domStyle.getPropertyValue("font-weight"),m='VT323';this.textTransform=this.domStyle.getPropertyValue("text-transform");this.th=this.domStyle.getPropertyValue("line-height").split("px")[0]|0;this.tw=this.domStyle.getPropertyValue("width").split("px")[0]|0;this.paddingTop=this.domStyle.getPropertyValue("padding-top").split("px")[0]|0;this.paddingLeft=this.domStyle.getPropertyValue("padding-left").split("px")[0]|0;this.paddingRight=this.domStyle.getPropertyValue("padding-right").split("px")[0]|0;this.paddingBottom=this.domStyle.getPropertyValue("padding-bottom").split("px")[0]|0;this.fontSize=this.domStyle.getPropertyValue("font-size").split("px")[0]|0;this.th+=this.paddingTop+this.paddingBottom;this.tw+=this.paddingLeft+this.paddingRight;this.ty=this.fontSize+this.paddingTop-1+this.yGap;this.canvas.style.width=this.tw+"px";this.canvas.style.height=this.th+"px";this.canvas.width=this.tw;this.canvas.height=this.th;this.ctx=this.canvas.getContext("2d");this.ctx.scale(1,1);this.ctx.font=a+" "+this.fontSize+"px "+m}};a.prototype.draw=function(a,m){if(this.ctx){this.ctx.clearRect(0,0,this.tw,this.th);var k,p=this.paddingLeft,h=this.ty,n,g,r=this.tw,s,z="";this.isEllipsis&&(r-=20);for(k=0;k<m;k++){n=a[k];n.value?(g=n.color?n.color:this.fontColor.color,n=n.value):g=this.fontColor.color;this.isColor||(g=this.fontColor.color);s=p;p+=this.ctx.measureText(n).width;z+=n;if(p>r){this.isEllipsis&&(this.isColor?(this.ctx.fillStyle=this.fontColor.color,this.ctx.fillText("...",s,h)):z+="...");break}this.isColor&&(this.ctx.fillStyle=g,this.ctx.fillText(n,s,h))}this.isColor||this.ctx.fillText(z,0,h)}};a.prototype.resize=function(a){this.ctx&&(this.yGap=a,this.pause(),this.setting(),this.draw(this.fontColor.str.slice(0),this.total))};a.prototype.pause=function(){this.time&&window.clearRequestTimeout(this.time);this.time=null};a.prototype.clear=function(){this.pause();this.ctx&&this.ctx.clearRect(0,0,this.tw,this.th);this.ctx=null;this.nyText.removeEventListener("click",function(a){r()});this.nyText.innerHTML="";this.dom&&(this.dom.innerHTML="")};a.prototype.colorChange=function(a){if(this.fontColor.color!=a){var m=this;this.ctx?TweenLite.to(this.fontColor,0.6,{color:a,onUpdate:function(){m.draw(m.fontColor.str.slice(0),m.total)}}):this.fontColor.color=a}};a.prototype.character=function(){var a=this.randomText.split(""),a=a[Math.random()*a.length|0],m="#"+this.colorArr[Math.random()*this.colorArr.length|0];return{value:a,color:m}};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!==typeof module&&module.exports?module.exports.NYTypo=a:window.NYTypo=a;var a=new NYTypo('#0c0c08'),t=document.querySelector('.nickname'),n='sattellite',start=function(s){a.start({dom:t,isColor:1,text:n,step:s})};t.addEventListener('mouseenter',function(){start(3)});start(12);setInterval(function(){start(7)},12000);})();
